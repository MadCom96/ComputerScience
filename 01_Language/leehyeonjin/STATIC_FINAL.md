# Static

---

### static 정의

static이라는 키워드는 메모리에 한번 할당되어 프로그램이 종료될 때 해제되는 것을 의미.

Java에서 멤버변수(필드) 및 멤버함수(메소드) 앞에 static 키워드가 붙어 있는 변수나 메소드인 static 변수와 static 메소드가 존재.

일반적인 인스턴스 변수들과는 달리 프로그램 로딩시에 static 영역의 메모리에 올라가기 때문에 객체 생성없이 사용 가능.

---

### static 변수 및 static 메소드 특징

클래스가 메모리에 로드될 때 static 메모리 영역에 생성됨.

인스턴스를 생성하지 않고도 사용 가능.

동일 클래스의 모든 인스턴스에서 공유하여 사용됨.

static 메소드 안에서는 static 멤버들만 사용가능하고, 인스턴스 멤버는 사용 불가.
</br></br>

**사용목적**

1. 상수 정의
- 상수는 객체 내에서 매번 일반 변수로 정의하기 보다는 한번 정적 변수로 정의하면 메모리를 아낄 수 있음.
1. 유틸리티 클래스 정의
- 객체의 상태를 이용할 생각이 없고, 여러 객체들의 필요에 의해 데이터를 처리하는 공통 로직이 필요할 때는 static을 사용하여 설계함.
- Ex. Math 유틸리티 클래스.
</br></br>

**사용방법 및 예제**

`클래스명.static멤버명` 형식으로 사용.

```java
public class Book {
	static int price = 1000; // static 변수
	
	public static void showPrice() {
		System.out.println("가격 : " + price);
	}
}

Book.price = 2000; // 객체 생성없이 클래스명으로 바로 사용
Book.showPrice();  // 객체 생성없이 클래스명으로 바로 사용
```

---

### Java의 main 메소드가 static인 이유

**`public static void main(String[] args) {…}` 의 의미**

- public : 어디에서나 접근가능함.
- static : 프로그램 실행 순간에 메모리에 할당되어, GC 대상에서 벗어남.
- void : main() 메소드가 종료되면 프로그램도 종료되므로, 리턴값을 사용할 호출자가 없음.
- main() : 관례적으로 프로그램의 시작점을 main으로 사용.
- String[] args : 프로그램 실행시, 첫 스레드인 main에게 데이터를 넘겨주고 싶을 때를 위한 파라미터.

main() 메소드는 프로그램이 실행되는 시작과 끝이되는 지점.

JRE는 프로그램 안에 main() 메소드가 있는지 확인한 후 main() 메소드를 실행.

main() 메소드가 끝나면 JRE는 JVM을 종료하고, JRE 자체도 메모리에서 사라짐.

---
### Java에서 static final 로 상수를 선언하는 이유

프로그램 모든 곳에서 하나의 값을 일관되게 사용하기 위한 관례.

static 키워드를 통해 인스턴스가 생성될 때마다 새로운 메모리에 초기화하지 않고, 하나의 메모리 공간만을 사용할 수 있어 효율적.

> 💡 **Java의 final 키워드**
>
> 1. final
> - 변수나 메소드, 클래스가 변경 불가능하도록 만드는 예약어.
> - final 변수는 값 변경이 불가능.
> - final 메소드는 해당 메소드를 오버라이드 할 수 없음.
> - final 클래스는 상속이 불가능함.
>
> 2. finally
> - try/catch 블록이 종료될 때 항상 실행될 코드 블록을 정의하기 위해 사용.
> - 예외가 발생하더라도 항상 실행.
>
> 3. finallize()
> - GC가 더이상의 참조가 존재하지 않는 객체를 메모리에서 삭제하겠다고 결정하는 순간 호출됨.
